1.使用程序工厂函数
    在单个文件中开发程序很方便，但是有个很大的缺点，因为程序在全局作用域中创建，所以你无法动态修改配置。当你运行脚本时，程序实例已经城建，再修改配置为时已晚。
  解决方案：延迟创建程序实例，把创建过程移到可现实调用的工厂函数中，这种方法不仅可以给脚本流出配置程序的时间，还能够创建多个程序实例，这些实例有时在测试中非常有用。